<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="style.css">
    <script defer src="displayPost.js"></script>
    <script defer src="profilePosts.js"></script>
    <script defer src="gui.js"></script>
    <script defer src="modal.js"></script>
    <script defer src="personalProfile.js"></script>

    <script src="createPost.js"></script>
    <script src="comment.js"></script>
    <script src="publicSpace.js"></script>

    <title>Go Getta</title>
</head>
<body>
    <div class="sidebar left">
        <div class="logoContainer">
            <svg viewBox="0 0 53 52" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M26.2727 2L2.27273 15.0909V26V36.9091M26.2727 2L50.2727 15.0909V26V36.9091M26.2727 2V26M2.27273 36.9091L26.2727 50L50.2727 36.9091M2.27273 36.9091L26.2727 26M50.2727 36.9091L26.2727 26" stroke="var(--gray)" stroke-width="4" stroke-linejoin="round"/>
                <path d="M38.2727 26H50.2727V36.9091L26.2727 50L2.27273 36.9091V15.0909L26.2727 2L38.2727 8.54545" stroke="var(--green)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>

            <h1>G<span>o</span> G<span>etta</span></h1>
        </div>

        <separator></separator>
    
        <div class="feedSelector">
            <button selected type="button" onclick="showPublicSpaceScreen()">Public Space</button>
            <button type="button" onclick="showFollowingScreen()">Following</button>
        </div>

        <separator></separator>

        <div class="myRooms" id="myRooms">
            <h5>My Rooms</h5>

            <template id="roomButtonTemplate">
                <button style="--room-color: var(--white);">
                    <strip></strip>
                    <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 11.5L8 15L15 11.5V4.5L8 1L1 4.5V11.5Z" stroke="var(--room-color)" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M1 11.5L8 8M8 8L15 11.5M8 8V1" stroke="var(--room-color)" stroke-opacity="0.25" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>Room Name</span>
                </button>
            </template>

        </div>

        <div class="searchContainer">
            <div class="searchBar">
                <svg viewBox="0 0 15 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 17L6.20984 9.70622M6.20984 9.70622C6.99614 10.2689 7.9594 10.6 9 10.6C11.651 10.6 13.8 8.45097 13.8 5.8C13.8 3.14903 11.651 1 9 1C6.34903 1 4.2 3.14903 4.2 5.8C4.2 7.41037 4.99302 8.83551 6.20984 9.70622Z" stroke="var(--gray)" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                
                <input placeholder="Search..." type="text" name="searchTerm" id="searchBar">
            </div>
        </div>
    </div>

    <div class="sidebar right">
        <div class="currentUser" id="currentUser">
            <button id="logoutButton" onclick="logout()">
                <svg viewBox="0 0 16 13" fill="transparent" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.8 7.875V9.25L9.4 12L15 9.25V3.75L9.4 1L3.8 3.75V5.125M6.6 6.5H1M1 6.5L2.4 5.8125M1 6.5L2.4 7.1875" stroke="var(--red-50)" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            <a href="?view=me">
                <div class="textContainer">
                    <h2 class="username"></h2>
                    <p>Click to edit profile</p>
                </div>
                <div class="profilePicture" id="currentUserProfilePicture"></div>        
            </a>
        </div>

        <div class="notifications">
            <div class="titleBar">
                <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6.25 13.25V14.125L8 15L9.75 14.125V13.25M8 1L2.75 4.5L1 11.5H8H15L13.25 4.5L8 1Z" stroke="var(--gray)" stroke-linejoin="round"/>
                </svg>
                <h5>Notifications</h5>
            </div>

            <template id="notificationTemplate">
                <div class="notification">
                    <div class="topBar">
                        <h6>1900/01/01 00:00</h6>
                        <svg viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 1L5 5L9 9M9 1L1 9" stroke="var(--gray)" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
    
                    <a href="#">Notification text</a>
                </div>
            </template>

        </div>

        <button class="newRoom">
            <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 11.5L8 15L15 11.5V4.5L8 1L1 4.5V11.5Z" stroke="#FCF7F8" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 11.5L8 8M8 8L15 11.5M8 8V1" stroke="#FCF7F8" stroke-opacity="0.25" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            New Room            
        </button>
    
        <button class="newPost" onclick="showPostCreationScreen()">
            <svg viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 1V5M5 9V5M5 5H1M5 5H9" stroke="var(--white)" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            
            New Post            
        </button>
    </div>

    <div id="mainContent" style="--room-color: #var(--green);">
        <template id="postTemplate">
            <div class="post">
                <div class="topBar">
                    <a class="userDisplay" href="#">
                        <div class="profilePicture"></div>
                        <div class="textContainer">
                            <h4>User</h4>
                            <h5>@user</h5>
                        </div>
                    </a>
                    <div class="timestamp">
                        <h5>1900/01/01</h5>
                        <h5>00:00</h5>
                    </div>
                </div>
                <div class="content">
                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                </div>
                <div class="appendages">
                </div>
                <div class="interactionBar">
                    <div class="rating">
                        <button>
                            <svg viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5 1L1 5V9L9 17L17 9V5L13 1L9 5L5 1Z" stroke="var(--green)" stroke-opacity="0.5" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>                        
                        </button>
                        <h5>0</h5>
                        <button>
                            <svg viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M13 1L9 5L5 1L1 5V9L3 11M17 5V9L9 17L7 15M2.33333 15.6667L17 1" stroke="var(--red)" stroke-opacity="0.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>                        
                        </button>
                    </div>
                    <separator></separator>
                    <button class="comment">
                        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 4.5V9.75L2.75 10.625L1 15L6.25 12.375L8 13.25L15 9.75V4.5L8 1L1 4.5Z" stroke="var(--gray)" stroke-linejoin="round"/>
                        </svg>
                        <h5>0</h5>                    
                    </button>
                    <separator></separator>
                    <button class="share">
                        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 15V8L15 1M15 1H9.75M15 1L13.25 4.5" stroke="var(--gray)" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <h5>0</h5>
                    </button>
                    <separator></separator>
                    <button class="repost">
                        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.5 13.25L8 15L15 11.5V4.5L13.25 3.625M4.5 13.25V15M4.5 13.25L6.25 12.375M2.75 12.375L1 11.5V4.5L8 1L11.5 2.75M11.5 2.75V1M11.5 2.75L9.75 3.625" stroke="var(--gray)" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <h5>0</h5>                    
                    </button>
                    <separator></separator>
                    <button class="bookmark">
                        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.5 1L10 2.75V15L6.5 11.5L3 15V2.75L6.5 1" stroke="var(--gray)" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <h5>0</h5>                    
                    </button>
                    <spacer></spacer>
                    <button class="delete">
                        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.5 13.25L8 15L15 11.5V4.5L11.5 2.75M4.5 13.25L1 11.5V4.5L8 1L11.5 2.75M4.5 13.25L11.5 2.75" stroke="var(--red)" stroke-opacity="0.5"/>
                        </svg>
                        <h5>Delete</h5>               
                    </button>
                </div>
            </div>
        </template>

        <template id="roomHeadingTemplate">
            <div class="roomHeading">
                <img src="https://utopia.de/app/uploads/2022/09/roter-panda-cc0-pixabay-pexels-220910.jpg" alt="Room Banner">
                <div class="gradient"></div>
                <h1>Room Name</h1>
                <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel, quis.</h2>
            </div>
        </template>

        <screen id="postCreation" style="display: none;">
            <h1>New Post</h1>
            <textarea name="body" id="newPostBody" placeholder="Enter your thoughts here..."></textarea>
            <form enctype="multipart/form-data" id="addMediaForm" style="display: none;">
                <input
                    type="file"
                    name="file"
                    id="newPostFiles"
                    multiple
                    accept="audio/*, video/*, image/*"
                    onchange="handleNewPostFileSelect(this)"
                >
            </form>
            <div id="mediaPreviewContainer">

            </div>
            <div class="postSettings">
                <div class="roomDropdownContainer">
                    Post in...
                    <select name="room" id="newPostRoom" style="--color: var(--white);">
                        <option value="" selected>Public Space</option>
                    </select>
                </div>
                <div class="addMediaButtonContainer">
                    Add Media
                    <div class="buttonsContainer">
                        <button id="newPostBrowse" onclick="browseNewPostFiles()">
                            Browse...
                        </button>
                        <button class="removeMediaButton" onclick="removeNewPostFiles()">
                            Remove Media
                        </button>
                    </div>
                </div>
                <spacer></spacer>
                <div class="postButton">
                    Post
                    <button id="newPostSubmitButton" onclick="submitPost()">
                        <svg viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 8.5V11H3.46154L13.3077 6L14.5385 8.5L17 2.25L9.61539 1L10.8462 3.5L1 8.5Z" stroke="var(--green)" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>                            
                    </button>
                </div>
            </div>
        </screen>

        <screen id="postScreen">
            
        </screen>

        <screen id="postThread" style="display: none;">
            <div class="parentPosts">

            </div>
            <div class="commentCreation">
                <textarea name="body" id="newCommentBody" placeholder="Comment something..."></textarea>
                <form enctype="multipart/form-data" id="commentAddMediaForm" style="display: none;">
                    <input
                        type="file"
                        name="file"
                        id="newCommentFiles"
                        multiple
                        accept="audio/*, video/*, image/*"
                        onchange="handleNewCommentFileSelect(this)"
                    >
                </form>
                <div id="commentMediaPreviewContainer">

                </div>
                <div class="actionButtons">
                    <button id="commentAddMediaButton" onclick="browseNewCommentFiles()">
                        Browse Media
                    </button>
                    <button id="commentRemoveMediaButton" onclick="removeNewCommentFiles()">
                        Remove Media
                    </button>
                    <spacer></spacer>
                    <button id="submitCommentButton" onclick="submitComment()">
                        <svg viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 8.5V11H3.46154L13.3077 6L14.5385 8.5L17 2.25L9.61539 1L10.8462 3.5L1 8.5Z" stroke="var(--green)" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>                            
                    </button>
                </div>
            </div>
            <div class="childPosts">

            </div>
        </screen>

        <screen id="personalProfile" style="display: none;">
            <div class="heading">
                <div class="profilePictureContainer">
                    <div class="profilePicture"></div>
                    <form action="" id="profilePictureSelectorForm" style="display: none;">
                        <input
                            type="file"
                            name="profilePicture"
                            id="profilePictureFileInput"
                            accept="image/*"
                            oninput="handleProfilePictureUpdate(this)"
                        >
                    </form>
                    <button class="edit">
                        <svg viewBox="0 0 11 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.56659 13.25L10.1666 2.75L6.43325 1L0.833252 11.5M4.56659 13.25L0.833252 11.5M4.56659 13.25L0.833252 15V11.5" stroke="var(--white)" stroke-linejoin="round"/>
                        </svg>                         
                    </button>
                </div>
                <div class="publicNameContainer">
                    <h3></h3>
                    <input type="text" name="newPublicNameInput" class="newPublicNameInput" style="display: none;" minlength="1" maxlength="32">
                    <button class="edit">
                        <svg viewBox="0 0 11 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.56659 13.25L10.1666 2.75L6.43325 1L0.833252 11.5M4.56659 13.25L0.833252 11.5M4.56659 13.25L0.833252 15V11.5" stroke="var(--white)" stroke-linejoin="round"/>
                        </svg>                         
                    </button>
                </div>
                <h4></h4>
            </div>
            <separator></separator>
            <div class="biography">
                <p></p>

                <textarea name="newBiographyInput" id="newBiographyInput" placeholder="Describe yourself here..." style="display: none;"></textarea>

                <button class="edit">
                    <svg viewBox="0 0 11 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4.56659 13.25L10.1666 2.75L6.43325 1L0.833252 11.5M4.56659 13.25L0.833252 11.5M4.56659 13.25L0.833252 15V11.5" stroke="var(--white)" stroke-linejoin="round"/>
                    </svg>                         
                </button>
            </div>
            <separator></separator>
            <div class="posts">

            </div>
        </screen>
    </div>

    <screen id="modal" style="display: none;">
        <div class="modalWindow">
            <h1>Modal Text</h1>
            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ratione cupiditate accusantium cum deserunt possimus reprehenderit odit, pariatur assumenda facilis, id, quos provident officia ipsa eveniet. Voluptatibus nesciunt facilis quam praesentium placeat unde eos amet consequatur aperiam impedit vel quibusdam, perspiciatis accusamus id accusantium eum. Ad accusantium quae hic sed facilis?</p>
            <div class="buttonContainer">
                
            </div>
        </div>
    </screen>
</body>
</html>